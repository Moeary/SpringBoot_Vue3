-- 创建注册表
CREATE TABLE register (
                          id INT(9) NOT NULL AUTO_INCREMENT PRIMARY KEY,
                          case_number VARCHAR(64) NOT NULL,
                          real_name VARCHAR(64) NOT NULL,
                          gender VARCHAR(6) NOT NULL DEFAULT '男' CHECK (gender IN ('男', '女')),
                          card_number VARCHAR(18) NOT NULL,
                          birthdate DATE NOT NULL,
                          age INT(3) NOT NULL,
                          age_type VARCHAR(6) NOT NULL DEFAULT '年' CHECK (age_type IN ('年', '天')),
                          home_address VARCHAR(64),
                          visit_date DATETIME NOT NULL,
                          noon VARCHAR(6) NOT NULL DEFAULT '上午' CHECK (noon IN ('上午', '下午')),
                          deptment_id INT(9) NOT NULL,
                          employee_id INT(9) NOT NULL,
                          regist_level_id INT(9) NOT NULL,
                          settle_category_id INT(9) NOT NULL,
                          is_book CHAR(2) NOT NULL DEFAULT '是' CHECK (is_book IN ('是', '否')),
                          regist_method VARCHAR(10) NOT NULL DEFAULT '现金' CHECK (regist_method IN ('现金', '银行卡', '医保卡', '微信', '支付宝')),
                          regist_money DECIMAL(8, 2) NOT NULL,
                          visit_state INT(1) NOT NULL DEFAULT 1 CHECK (visit_state IN (1, 2, 3, 4)),
                          FOREIGN KEY (deptment_id) REFERENCES department(id),
                          FOREIGN KEY (employee_id) REFERENCES employee(id),
                          FOREIGN KEY (regist_level_id) REFERENCES regist_level(id),
                          FOREIGN KEY (settle_category_id) REFERENCES settle_category(id)
);

-- 插入 20 条随机数据

INSERT INTO register (case_number, real_name, gender, card_number, birthdate, age, age_type, home_address, visit_date, noon, deptment_id, employee_id, regist_level_id, settle_category_id, is_book, regist_method, regist_money, visit_state)
VALUES
    ('B20230301001', '张三', '男', '4******************1', '2000-01-01', 23, '年', '地址1', '2023-03-01 08:30:00', '上午', 1, 1, 1, 1, '是', '现金', 10.00, 1),
    ('B20230301002', '李四', '女', '3******************2', '1995-05-05', 28, '年', '地址2', '2023-03-01 09:00:00', '上午', 2, 2, 2, 2, '否', '医保卡', 50.00, 2),
    ('B20230301003', '王五', '男', '1******************3', '1988-10-10', 35, '年', '地址3', '2023-03-01 10:00:00', '上午', 3, 3, 3, 3, '是', '微信', 20.00, 3),
    ('B20230301004', '赵六', '女', '2******************4', '1970-02-20', 53, '年', '地址4', '2023-03-01 11:00:00', '上午', 1, 1, 1, 1, '否', '支付宝', 100.00, 4),
    ('B20230302001', '孙七', '男', '5******************5', '1998-07-07', 25, '年', '地址5', '2023-03-02 08:30:00', '上午', 2, 2, 2, 2, '是', '现金', 10.00, 1),
    ('B20230302002', '周八', '女', '6******************6', '1990-12-12', 33, '年', '地址6', '2023-03-02 09:00:00', '上午', 3, 3, 3, 3, '否', '银行卡', 50.00, 2),
    ('B20230302003', '吴九', '男', '7******************7', '1985-06-16', 38, '年', '地址7', '2023-03-02 10:00:00', '上午', 1, 1, 1, 1, '是', '微信', 20.00, 3),
    ('B20230302004', '郑十', '女', '8******************8', '1975-09-29', 48, '年', '地址8', '2023-03-02 11:00:00', '上午', 2, 2, 2, 2, '否', '支付宝', 100.00, 4),
    ('B20230303001', '陈十一', '男', '9******************9', '2001-04-04', 22, '年', '地址9', '2023-03-03 08:30:00', '上午', 3, 3, 3, 3, '是', '现金', 10.00, 1),
    ('B20230303002', '杨十二', '女', '0******************0', '1993-08-08', 30, '年', '地址10', '2023-03-03 09:00:00', '上午', 1, 1, 1, 1, '否', '医保卡', 50.00, 2),
    ('B20230303003', '林十三', '男', '1******************1', '1987-11-11', 36, '年', '地址11', '2023-03-03 10:00:00', '上午', 2, 2, 2, 2, '是', '微信', 20.00, 3),
    ('B20230303004', '黄十四', '女', '2******************2', '1978-03-23', 45, '年', '地址12', '2023-03-03 11:00:00', '上午', 3, 3, 3, 3, '否', '支付宝', 100.00, 4),
    ('B20230304001', '刘十五', '男', '3******************3', '2000-09-09', 23, '年', '地址13', '2023-03-04 08:30:00', '上午', 1, 1, 1, 1, '是', '现金', 10.00, 1),
    ('B20230304002', '何十六', '女', '4******************4', '1992-01-01', 31, '年', '地址14', '2023-03-04 09:00:00', '上午', 2, 2, 2, 2, '否', '银行卡', 50.00, 2),
    ('B20230304003', '马十七', '男', '5******************5', '1986-05-05', 37, '年', '地址15', '2023-03-04 10:00:00', '上午', 3, 3, 3, 3, '是', '微信', 20.00, 3),
    ('B20230304004', '谢十八', '女', '6******************6', '1979-10-10', 44, '年', '地址16', '2023-03-04 11:00:00', '上午', 1, 1, 1, 1, '否', '支付宝', 100.00, 4),
    ('B20230305001', '郭十九', '男', '7******************7', '2002-02-20', 21, '年', '地址17', '2023-03-05 08:30:00', '上午', 2, 2, 2, 2, '是', '现金', 10.00, 1),
    ('B20230305002', '罗二十', '女', '8******************8', '1994-07-07', 29, '年', '地址18', '2023-03-05 09:00:00', '上午', 3, 3, 3, 3, '否', '医保卡', 50.00, 2),
    ('B20230305003', '韩二十一', '男', '9******************9', '1988-12-12', 35, '年', '地址19', '2023-03-05 10:00:00', '上午', 1, 1, 1, 1, '是', '微信', 20.00, 1)
;